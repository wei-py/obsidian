## prop

  

```

  

```

  

## mixin

  

ç”¨äº é…ç½®é¡¹å¤šçš„æ—¶å€™

  

- Â  echart

- Â  openlayer

- Â  ...

  

```js

import charMix from "./xxx/charMix.js";

  

mixins: [chartMix],

  

// chartMix.js

export default {

Â  Â  data() {

Â  Â  Â  Â  const option = {

Â  Â  Â  Â  Â  Â  title: {

Â  Â  Â  Â  Â  Â  Â  Â  text: "è¿‘7æ—¥å‘ç”µé‡ç»Ÿè®¡",

Â  Â  Â  Â  Â  Â  Â  Â  left: "center",

Â  Â  Â  Â  Â  Â  Â  Â  top: "5%",

Â  Â  Â  Â  Â  Â  Â  Â  textStyle: { fontSize: 20, color: "#fff" },

Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  tooltip: {},

Â  Â  Â  Â  Â  Â  grid: { left: "20%", top: "30%" },

Â  Â  Â  Â  Â  Â  // legend: {

Â  Â  Â  Â  Â  Â  // Â  data: ["å‘ç”µé‡(MWh)"],

Â  Â  Â  Â  Â  Â  // },

Â  Â  Â  Â  Â  Â  xAxis: {

Â  Â  Â  Â  Â  Â  Â  Â  // x ğŸ“Œ

Â  Â  Â  Â  Â  Â  Â  Â  data: [],

Â  Â  Â  Â  Â  Â  Â  Â  axisTick: { show: false },

Â  Â  Â  Â  Â  Â  Â  Â  axisLabel: { fontSize: 15 },

Â  Â  Â  Â  Â  Â  Â  Â  axisLine: { lineStyle: { width: 1, color: "#e8e5f2" } },

Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  yAxis: {

Â  Â  Â  Â  Â  Â  Â  Â  axisLine: {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  show: true,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  lineStyle: { width: 1, color: "#e8e5f2" },

Â  Â  Â  Â  Â  Â  Â  Â  }, //æ˜¾ç¤ºyè½´ç«–çº¿

Â  Â  Â  Â  Â  Â  Â  Â  splitNumber: 3,

Â  Â  Â  Â  Â  Â  Â  Â  name: "MWh",

Â  Â  Â  Â  Â  Â  Â  Â  // formatter: "{value} MWh"

Â  Â  Â  Â  Â  Â  Â  Â  axisLabel: { fontSize: 5, color: "#e8e5f2" },

Â  Â  Â  Â  Â  Â  Â  Â  splitLine: { lineStyle: { width: 1, color: "#e8e5f2" } },

Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  series: [

Â  Â  Â  Â  Â  Â  Â  Â  {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // æ•°æ® ğŸ“Œ

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: "å‘ç”µé‡(MWh)",

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: "bar",

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data: [],

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  itemStyle: {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  normal: {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  color: new echarts.graphic.LinearGradient(

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  0,

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // è¿™é‡Œä¸åŒçš„æ’åºä¼šå‡ºç°ä¸åŒçš„æ•ˆæœ Â  æŸ¥çœ‹4 æ¸å˜è§„åˆ™

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { offset: 0, color: "#6aa7ef" }, // çº¢

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // å¯ä»¥åŠ 0.2ç­‰

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  { offset: 1, color: "#c67cfb" }, // é»‘

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ]

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ),

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  barWidth: "20%",

Â  Â  Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  ],

Â  Â  Â  Â  };

Â  Â  Â  Â  return {

Â  Â  Â  Â  Â  Â  date: "2022/02/02",

Â  Â  Â  Â  Â  Â  time: "18:00:00",

Â  Â  Â  Â  Â  Â  fontSize: 15,

Â  Â  Â  Â  Â  Â  // ğŸ‘‡ è¿™é‡Œå¾ˆå¥½

Â  Â  Â  Â  Â  Â  option1: JSON.parse(JSON.stringify(option)),

Â  Â  Â  Â  Â  Â  option2: JSON.parse(JSON.stringify(option)),

Â  Â  Â  Â  };

Â  Â  },

Â  Â  mounted() {

Â  Â  Â  Â  this.resizeFont();

Â  Â  Â  Â  this.currentTime();

Â  Â  Â  Â  this.initData();

Â  Â  Â  Â  window.onresize = () => {

Â  Â  Â  Â  Â  Â  this.dom1.resize();

Â  Â  Â  Â  Â  Â  this.dom2.resize();

Â  Â  Â  Â  };

Â  Â  },

Â  Â  computed: {

Â  Â  Â  Â  dom1() {

Â  Â  Â  Â  Â  Â  return echarts.init(this.$refs.chartsOne);

Â  Â  Â  Â  },

Â  Â  Â  Â  dom2() {

Â  Â  Â  Â  Â  Â  return echarts.init(this.$refs.chartsTwo);

Â  Â  Â  Â  },

Â  Â  },

Â  Â  methods: {

Â  Â  Â  Â  // å›¾è¡¨æ–‡å­—å¤§å°åŠ¨æ€é€‚åº”

Â  Â  Â  Â  echartsFont(val, initWidth = this.initWidth) {

Â  Â  Â  Â  Â  Â  let now = document.documentElement.clientWidth;

Â  Â  Â  Â  Â  Â  return val * (now / initWidth);

Â  Â  Â  Â  },

Â  Â  Â  Â  // Â  æ—¶é—´

Â  Â  Â  Â  currentTime() {

Â  Â  Â  Â  Â  Â  setInterval(() => {

Â  Â  Â  Â  Â  Â  Â  Â  this.time = new Date().toLocaleTimeString();

Â  Â  Â  Â  Â  Â  Â  Â  this.date = new Date().toLocaleDateString();

Â  Â  Â  Â  Â  Â  }, 500);

Â  Â  Â  Â  },

Â  Â  Â  Â  // åˆå§‹åŒ–æ•°æ®

Â  Â  Â  Â  initData() {

Â  Â  Â  Â  Â  Â  // è¿‘7æ—¥

Â  Â  Â  Â  Â  Â  powerSevenEnergy().then((resp) => {

Â  Â  Â  Â  Â  Â  Â  Â  this.option1.xAxis.data = this.getSevenDay();

Â  Â  Â  Â  Â  Â  Â  Â  this.option1.series[0].data = this.modify(resp, 7);

Â  Â  Â  Â  Â  Â  Â  Â  this.dom1.setOption(this.option1);

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  // è¿‘6æœˆ

Â  Â  Â  Â  Â  Â  powerSIXEnergy().then((resp) => {

Â  Â  Â  Â  Â  Â  Â  Â  this.option2.xAxis.data = this.getSixMonth();

Â  Â  Â  Â  Â  Â  Â  Â  this.option2.series[0].data = this.modify(resp, 6);

Â  Â  Â  Â  Â  Â  Â  Â  this.option2.title.text = "è¿‘6æœˆå‘ç”µé‡ç»Ÿè®¡";

Â  Â  Â  Â  Â  Â  Â  Â  this.dom2.setOption(this.option2);

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  },

Â  Â  Â  Â  // å·¥å…·å‡½æ•°

Â  Â  Â  Â  // è·å–æœ€è¿‘çš„6ä¸ªæœˆ

Â  Â  Â  Â  getSixMonth() {

Â  Â  Â  Â  Â  Â  const month = new Date().getMonth();

Â  Â  Â  Â  Â  Â  return Array.from({ length: 6 }, (_, idx) => {

Â  Â  Â  Â  Â  Â  Â  Â  const result = month + idx - 4;

Â  Â  Â  Â  Â  Â  Â  Â  return result <= 0 ? result + 12 : result;

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  },

Â  Â  Â  Â  // è·å–æœ€è¿‘çš„7å¤©

Â  Â  Â  Â  getSevenDay() {

Â  Â  Â  Â  Â  Â  return Array.from({ length: 7 }, (_, idx) => {

Â  Â  Â  Â  Â  Â  Â  Â  return new Date(Date.now() - 86400000 * (6 - idx)).getDate();

Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  },

Â  Â  Â  Â  // å¤„ç†æ•°æ®

Â  Â  Â  Â  modify(resp, l) {

Â  Â  Â  Â  Â  Â  const y = resp.data.data.map((n) => (n?.sumEnergy / 1000).toFixed(2)).reverse();

Â  Â  Â  Â  Â  Â  y.unshift(...Array(7).fill(0));

Â  Â  Â  Â  Â  Â  const len = y.length;

Â  Â  Â  Â  Â  Â  return y.slice(len - l, len);

Â  Â  Â  Â  },

Â  Â  Â  Â  // resizeFont

Â  Â  Â  Â  resizeFont() {

Â  Â  Â  Â  Â  Â  // this.option1.title.textStyle.fontSize = this.fontSize;

Â  Â  Â  Â  Â  Â  // this.option1.title.textStyle.fontSize = this.fontSize - 5;

Â  Â  Â  Â  Â  Â  // this.option2.title.textStyle.fontSize = this.fontSize;

Â  Â  Â  Â  Â  Â  // this.option2.title.textStyle.fontSize = this.fontSize - 5;

Â  Â  Â  Â  Â  Â  this.option1.yAxis.axisLabel.fontSize = this.fontSize;

Â  Â  Â  Â  Â  Â  this.option2.yAxis.axisLabel.fontSize = this.fontSize;

Â  Â  Â  Â  Â  Â  this.option1.xAxis.axisLabel.fontSize = this.fontSize;

Â  Â  Â  Â  Â  Â  this.option2.xAxis.axisLabel.fontSize = this.fontSize;

Â  Â  Â  Â  },

Â  Â  },

};

```

  

## data

  

```js

import Vue;

import "ç¬¬ä¸‰æ–¹.js"

import "è‡ªå·±çš„å·¥å…·" Â // ç»Ÿä¸€åœ¨ utils æ–‡ä»¶å¤¹é‡Œ

import "mix.js"

import "æ¥å£" // (æ”¾åœ¨è¿™å‡ ä¸ªimport æœ€ä¸‹é¢ å› ä¸ºä½¿ç”¨æŸ¥çœ‹æœ€é«˜)

data() {

  
  

Â  Â  // åƒå­—å…¸ä¸€æ ·çš„å˜é‡ çº¯çº¯çš„é™æ€

Â  Â  this.title = {

Â  Â  Â  Â  name1: "ç«™ç‚¹åç§°",

Â  Â  Â  Â  alarmMessage: "å‘Šè­¦ä¿¡æ¯",

Â  Â  Â  Â  startTime: "äº‹ä»¶å‘ç”Ÿæ—¶é—´",

Â  Â  Â  Â  updateTime: "äº‹ä»¶æ›´æ–°æ—¶é—´",

Â  Â  Â  Â  mean: "äº‹ä»¶æè¿°",

Â  Â  Â  Â  grade: "çº§åˆ«",

Â  Â  Â  Â  status: "çŠ¶æ€",

Â  Â  Â  Â  // currentValue: "å½“å‰å€¼",

Â  Â  Â  Â  // threshold: "é˜€å€¼",

Â  Â  Â  Â  // operation: "æ“ä½œ",

Â  Â  },

  

Â  Â  this.format_type = {

Â  Â  Â  Â  date: "yyyy å¹´ MM æœˆ dd æ—¥",

Â  Â  Â  Â  month: "yyyy å¹´ MM æœˆ",

Â  Â  Â  Â  year: "yyyy å¹´",

Â  Â  },

Â  Â  this.value_format = {

Â  Â  Â  Â  date: "yyyy-MM-dd",

Â  Â  Â  Â  month: "yyyy-MM",

Â  Â  Â  Â  year: "yyyy"

Â  Â  },

  
  

Â  Â  return {

  

Â  Â  Â  Â  switchShow: {

Â  Â  Â  Â  Â  Â  // æ§åˆ¶é¡µé¢çš„æ˜¾ç¤º v-show v-if

Â  Â  Â  Â  Â  Â  // å„ç§ loading disabled

Â  Â  Â  Â  Â  Â  // æ—¶é—´æ ¼å¼åˆ‡æ¢

Â  Â  Â  Â  Â  Â  radio: "date" // å…¶ä»–å€¼ date, month, year

Â  Â  Â  Â  }

  

Â  Â  Â  Â  form: {

Â  Â  Â  Â  Â  Â  // é¡µé¢ä¸Šçš„å„ç§æ¡ä»¶ è¿‡æ»¤ æŸ¥è¯¢

Â  Â  Â  Â  Â  Â  // é…åˆ computed çš„ params

Â  Â  Â  Â  Â  Â  // ğŸ‘‡ é…åˆ switchShow.radio

Â  Â  Â  Â  Â  Â  data: Date.now(),

Â  Â  Â  Â  Â  Â  month: Date.now(),

Â  Â  Â  Â  Â  Â  year: Date.now(),

Â  Â  Â  Â  Â  Â  /*

Â  Â  Â  Â  Â  Â  Â  Â  <el-date-picker

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placename="é€‰æ‹©æ—¥æœŸ"

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  v-model="form[switchShow.radio]"

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  align="right"

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  @change="getData"

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  :type="switchShow.radio"

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  :format="format_type[switchShow.radio]"

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  :value-format="value_format[switchShow.radio]"

Â  Â  Â  Â  Â  Â  Â  Â  />

Â  Â  Â  Â  Â  Â  */

Â  Â  Â  Â  }

  

Â  Â  Â  Â  // ğŸ‘‡ å±•ç¤ºæ•°æ® Â tableData, åŠ¨æ€time(å’Œ form time ä¸ä¸€æ ·)

Â  Â  Â  Â  // å±•ç¤ºæ•°æ® vue2 ä¸­å°½å¯èƒ½ä¸è¦å¤šçº§å¯¹è±¡, vue3 å¯ä»¥ï¼ˆå› ä¸º vue3 ä½¿ç”¨çš„åŒå‘ç»‘å®šå“åº”æ˜¯proxyï¼‰

Â  Â  Â  Â  tableData: []

Â  Â  Â  Â  tableDataTmp: [] // ä¸­é—´è¿‡æ»¤å‘½å å°½å¯èƒ½ä½¿ç”¨ Tmp æˆ–è€… Mid ä¹‹ç±»çš„

  

Â  Â  Â  Â  // åˆ†é¡µ å®é™…ä¸Šè¿‡æ»¤æ¡ä»¶ ä¸è¿‡ç»Ÿä¸€åˆ°ä¸‹é¢

Â  Â  Â  Â  page: {

Â  Â  Â  Â  Â  Â  page: 1,

Â  Â  Â  Â  Â  Â  pageSize: 10,

Â  Â  Â  Â  Â  Â  total: 50,

Â  Â  Â  Â  }

Â  Â  }

}

```

  

## computed å‚æ•° å’Œ chartDom æˆ–è€… å…¶ä»– Dom çš„å¤„ç†

  

```js

computed: {

Â  Â  params() {

Â  Â  Â  Â  reutrn {

Â  Â  Â  Â  Â  Â  ...this.form // å‚æ•°é›†

Â  Â  Â  Â  Â  Â  ...this.page

Â  Â  Â  Â  Â  Â  time: utils.format(this.form.time) // éœ€è¦ä¿®æ”¹çš„å­—æ®µåœ¨ æ‰©å±•é¢„ç®—ç¬¦ä¸‹é¢ä¿®æ”¹

Â  Â  Â  Â  }

Â  Â  },

Â  Â  chart1() {

Â  Â  Â  Â  return this.$echarts.init(this.$refs.charts1);

Â  Â  Â  Â  // åˆ°æ—¶å€™ Â ç›´æ¥ç”¨ this.chart1.setOption(this.option1, true); å°±å¯ä»¥äº†

Â  Â  },

  

Â  Â  titleComputed() { // å…ˆç•¥è¿‡

Â  Â  Â  Â  const form = this.formInline.filterData;

Â  Â  Â  Â  const allSelect = form.select.map((n) => n.value);

Â  Â  Â  Â  const filterForm = xor(allSelect, form.value);

Â  Â  Â  Â  return omit(this.title, filterForm);

Â  Â  },

}

```

  

## created é™æ€é¢„å¤„ç†

  

```js

this.form.xxx = this.route.params.xxx; // è·¯ç”±è·³è½¬è¿‡æ¥çš„æ•°æ®

this.form.yyy = this.yyy; // prop è¿‡æ¥çš„æ•°æ®

```

  

## mounted åŠ¨æ€é¢„å¤„ç†

  

```js

// æƒ…å†µä¸€ è½®æ’­ä¸‹éœ€è¦ä¸€å®šé‡çš„æ•°æ®æ‰å¯å¼€å§‹è½®æ’­

api().then((resp) => {

Â  Â  this.tableData.push(...resp.data.list);

Â  Â  this.tableData.push(...this.handleData(resp));

Â  Â  // ğŸ‘† ä¸è¦ç›´æ¥èµ‹å€¼ this.tableData = resp.data.list, è¿™æ ·æœ‰æ—¶å€™ä¸ä¼šå“åº”

Â  Â  // æ¸…ç©ºæ•°ç»„ä¹Ÿæ˜¯ Â ä½¿ç”¨ ğŸ‘‰ Â this.tableData.length = 0;

});

```

  

## methods

  

```js

// ğŸ‘‡ å¤„ç†æ¥å£

transformApi() {

Â  Â  if (this.activeName == "date") return tableDayData(this.params);

Â  Â  else if (this.activeName == "month") return tableMonthData(this.params);

Â  Â  else if (this.activeName == "year") return tableYearData(this.params);

}

// å¤„ç†æ•°æ®

handleData(resp) {

Â  Â  let data = resp.data.data;

Â  Â  const len = this.tableDataResp.length;

Â  Â  const prop = this.columns.map((n) => n.prop);

Â  Â  data = data.list

Â  Â  Â  Â  .map((n) => pick(n, prop))

Â  Â  Â  Â  .map((val, idx) => {

Â  Â  Â  Â  Â  Â  const minu = new Date().getMinutes();

Â  Â  Â  Â  Â  Â  const hour = new Date().getHours();

Â  Â  Â  Â  Â  Â  const flag = (hour >= 19 && minu > 30) || hour > 19 || hour < 5;

Â  Â  Â  Â  Â  Â  const outputPower = flag ? "0.00" : val.outputPower || "0.00";

Â  Â  Â  Â  Â  Â  return {

Â  Â  Â  Â  Â  Â  Â  Â  ...val,

Â  Â  Â  Â  Â  Â  Â  Â  outputPower,

Â  Â  Â  Â  Â  Â  Â  Â  order: idx + 1 + len,

Â  Â  Â  Â  Â  Â  Â  Â  dateEnergy: val.dateEnergy || "0.00",

Â  Â  Â  Â  Â  Â  Â  Â  // ğŸ‘† åç«¯ç»™æˆ‘ä»¬çš„æ˜¯ null æˆ–è€… ä¸ç»™ ä½¿ç”¨ val.dateEnergy || "0.00" å¯ä»¥ç»™äºˆé»˜è®¤å€¼ å·§ç”¨çŸ­è·¯è¿ç®— å‰é¢æœ‰å€¼åè¾¹æ˜¯ä¸æ‰§è¡Œçš„

Â  Â  Â  Â  Â  Â  Â  Â  createTime: val.createTime?.slice(0, 10),

Â  Â  Â  Â  Â  Â  Â  Â  allEnergy: Number(val.allEnergy).toFixed(2),

Â  Â  Â  Â  Â  Â  Â  Â  co2: ((val.allEnergy * 0.997) / 1000).toFixed(2),

Â  Â  Â  Â  Â  Â  Â  Â  status: this.colorHash[

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  flag || outputPower == null || outputPower == 0 ? 0 : 1

Â  Â  Â  Â  Â  Â  Â  Â  ],

Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  });

Â  Â  return data;

}

// ğŸ‘‡ å±•ç¤ºæ•°æ®

showData() {

Â  Â  transformApi().then(resp => {

Â  Â  Â  Â  this.page.total = resp.data.total;

Â  Â  Â  Â  this.tableData.length = 0;

Â  Â  Â  Â  this.tableData.push(...this.handleData(resp));

Â  Â  }).catch(error => {

Â  Â  Â  Â  console.error(error);

Â  Â  }).finally(() => {

Â  Â  Â  Â  // è¿™é‡Œå…³é—­å“åº”switchShow

Â  Â  })

}

// ğŸ‘‡ é¡µé¢äº‹ä»¶ <- ä¸šåŠ¡ç®€å•åŸºæœ¬ä¸ä½¿ç”¨

handleBtn() {

Â  Â  // ä¸šåŠ¡ç®€å• å¤§å¤šæ•°æƒ…å†µéƒ½å¯ä»¥ç›´æ¥ç”¨ showData();

Â  Â  // æ§åˆ¶æ˜¾ç¤ºéƒ½å¯ä»¥åœ¨tempalteä½¿ç”¨ @click=() => switchShow.xxx = !switchShow.xxx

}

```

  

## æ•°æ®å¤„ç†æŠ€å·§

  

```js

// ğŸ‘‡ æ•°æ®èšåˆ

resp.data.data = [

Â  Â  {

Â  Â  Â  Â  autoTel: "10",

Â  Â  Â  Â  sellTel: "11",

Â  Â  Â  Â  buyTel: "12",

Â  Â  Â  Â  time: "2022-10-10"

Â  Â  },

Â  Â  ...

]

const chartData = resp.data.data.reduce(

Â  Â  (pre, cur) => {

Â  Â  Â  Â  pre.autoTel.push(cur.autoTel);

Â  Â  Â  Â  pre.sellTel.push(cur.sellTel);

Â  Â  Â  Â  pre.buyTel.push(cur.buyTel);

Â  Â  Â  Â  pre.time.push(cur.time);

Â  Â  Â  Â  return pre;

Â  Â  },

Â  Â  {

Â  Â  Â  Â  autoTel: [],

Â  Â  Â  Â  sellTel: [],

Â  Â  Â  Â  buyTel: [],

Â  Â  Â  Â  time: [],

Â  Â  }

);

this.option3.series[0].data = chartData.autoTel;

this.option3.series[1].data = chartData.buyTel;

this.option3.series[2].data = chartData.sellTel;

this.option3.xAxis.data = chartData.time;

  

// ğŸ‘‡ åˆ†ç»„

const arrGroupBy = (arr, key) => {

Â  Â  const objGroup = arr.reduce((pre, cur) => {

Â  Â  Â  Â  const Kkey = cur[key]

Â  Â  Â  Â  Kkey in pre ? pre[Kkey].push(cur) : (pre[Kkey] = [cur]);

Â  Â  Â  Â  return pre;

Â  Â  }, {});

Â  Â  return Object.values(objGroup);

};

const data = [

Â  Â  { key: 1, value: "1-1" },

Â  Â  { key: 1, value: "1-2" },

Â  Â  { key: 2, value: "2-1" }

]

const result = arrGroupBy(data, "key")

/*

Â  Â  [

Â  Â  Â  Â  [ { key: 1, value: '1-1' }, { key: 1, value: '1-2' } ],

Â  Â  Â  Â  [ { key: 2, value: '2-1' } ]

Â  Â  ]

*/

  

// ğŸ‘‡ è¡¥é›¶ å›ºå®š9ä½ padStart padEnd

this.rightContent.caArr = this.rightContent.peakPower

Â  Â  .padStart(9, "0")

Â  Â  .split("");

this.rightContent.toArr = this.rightContent.allElectricity

Â  Â  .padStart(9, "0")

Â  Â  .split("");

  

```

  

## å…¶ä»–

```js

// ğŸ‘‡ api æ ¼å¼ -> è¿™æ ·æœ‰æç¤º è€Œä¸” æ”¹å­—æ®µä¹Ÿå®¹æ˜“ æ— éœ€æŠŠ params å†™å›ºå®š

/**

Â * @method get

Â * @params {IndexName: "", page: 1, pageSize: 50}

Â * @description æ¨¡ç³ŠæŸ¥è¯¢é‡‡æ ·æŒ‡æ ‡

Â * @returns data

Â */

export const LikeSelectBtoIndex = (params) => {

Â  Â  return axios({

Â  Â  Â  Â  url: "/btoIndex/LikeSelectBtoIndex",

Â  Â  Â  Â  method: "get",

Â  Â  Â  Â  params,

Â  Â  });

};

// utils ä¸­çš„å·¥å…·å‡½æ•° ä¹ŸåŒä¸Š

  
  

// jsconfig.json -> ä¿®æ”¹ç¼–è¾‘å™¨çš„æç¤º

{

Â  "compilerOptions": {

Â  Â  "target": "es5",

Â  Â  "module": "esnext",

Â  Â  "baseUrl": "./",

Â  Â  "moduleResolution": "node",

Â  Â  // ğŸ‘‡ è·¯å¾„

Â  Â  "paths": {

Â  Â  Â  "@/*": [

Â  Â  Â  Â  "src/*"

Â  Â  Â  ],

Â  Â  Â  "#/*": [

Â  Â  Â  Â  "./*"

Â  Â  Â  ]

Â  Â  },

Â  Â  "lib": [

Â  Â  Â  "esnext",

Â  Â  Â  "dom",

Â  Â  Â  "dom.iterable",

Â  Â  Â  "scripthost"

Â  Â  ]

Â  }

}

  

// vue.config.js

module.exports = defineConfig({

Â  Â  publicPath: "./",

Â  Â  devServer: {

Â  Â  Â  Â  proxy: {

Â  Â  Â  Â  Â  Â  "/api": {

Â  Â  Â  Â  Â  Â  Â  Â  // ğŸ‘‡ ç»Ÿä¸€url æ³¨é‡Š

Â  Â  Â  Â  Â  Â  Â  Â  // target: "http://8.134.12.233:8805", // è¿œç¨‹

Â  Â  Â  Â  Â  Â  Â  Â  target: "http://192.168.20.248:8805", // éå‡¡

Â  Â  Â  Â  Â  Â  Â  Â  // target: "http://192.168.20.233:8805", // æ

Â  Â  Â  Â  Â  Â  Â  Â  pathRewrite: {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "^/api": "",

Â  Â  Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  Â  Â  ws: true,

Â  Â  Â  Â  Â  Â  Â  Â  changeOrigin: true,

Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  "/token": {

Â  Â  Â  Â  Â  Â  Â  Â  // target: "http://8.134.12.233:8808", // è¿œç¨‹

Â  Â  Â  Â  Â  Â  Â  Â  target: "http://192.168.20.248:8808", // éå‡¡

Â  Â  Â  Â  Â  Â  Â  Â  // target: "http://192.168.20.233:8808", // æ

Â  Â  Â  Â  Â  Â  Â  Â  pathRewrite: {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "^/token": "",

Â  Â  Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  Â  Â  Â  Â  ws: true,

Â  Â  Â  Â  Â  Â  Â  Â  changeOrigin: true,

Â  Â  Â  Â  Â  Â  },

Â  Â  Â  Â  },

Â  Â  },

Â  Â  // ğŸ‘‡ è·¯å¾„ -> é¡¹ç›®æ ¹è·¯å¾„

Â  Â  chainWebpack: (config) => {

Â  Â  Â  Â  config.resolve.alias.set("#", path.resolve(__dirname, "."));

Â  Â  },

});

  

```

  

## css è§„èŒƒ -> è¡¥å……

```css

// æŒ‰å…³ç³» å¤šçº§åµŒå¥—

.table {

Â  Â  .a {

Â  Â  Â  Â  width: 100%;

Â  Â  Â  Â  .b {

Â  Â  Â  Â  Â  Â  height: 100%

Â  Â  Â  Â  }

Â  Â  }

}

```